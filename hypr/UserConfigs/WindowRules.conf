# /* ---- Window Rules & Layer Rules ---- */
# Organized into per-app files under UserConfigs/apps/
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# NOTES: Updated for Hyprland >= 0.53 new windowrule/layerrule syntax

# Tag ALL windows with default-opacity (apps opt out in their own files)
windowrule = tag +default-opacity, match:class .*

# ── Per-App Rules ──
source = $UserConfigs/apps/browser.conf
source = $UserConfigs/apps/terminal.conf
source = $UserConfigs/apps/projects.conf
source = $UserConfigs/apps/jetbrains.conf
source = $UserConfigs/apps/im.conf
source = $UserConfigs/apps/media.conf
source = $UserConfigs/apps/steam.conf
source = $UserConfigs/apps/filemanager.conf
source = $UserConfigs/apps/settings.conf
source = $UserConfigs/apps/viewer.conf
source = $UserConfigs/apps/pip.conf

# ── Notification & KooL Tags ──
windowrule = tag +notif, match:class ^(swaync-control-center|swaync-notification-window|swaync-client|class)$
windowrule = tag +KooL_Cheat, match:title ^(KooL Quick Cheat Sheet)$
windowrule = tag +KooL_Settings, match:title ^(KooL Hyprland Settings)$
windowrule = tag +KooL-Settings, match:class ^(nwg-displays|nwg-look)$

# Email tags
windowrule = tag +email, match:class ^([Tt]hunderbird|org.gnome.Evolution)$
windowrule = tag +email, match:class ^(eu.betterbird.Betterbird)$

# Screenshare tags
windowrule = tag +screenshare, match:class ^(com.obsproject.Studio)$

# Wallpaper tags
windowrule = tag +wallpaper, match:class ^([Ww]aytrogen)$

# ── KooL Special Rules ──
windowrule = float on, match:tag KooL_Cheat*
windowrule = center on, match:tag KooL_Cheat*
windowrule = size 65% 90%, match:tag KooL_Cheat*

windowrule = float on, match:tag KooL-Settings*
windowrule = center on, match:tag KooL-Settings*

windowrule = float on, match:tag wallpaper*
windowrule = size 70% 70%, match:tag wallpaper*
windowrule = tag -default-opacity, match:tag wallpaper*
windowrule = opacity 0.9 0.7, match:tag wallpaper*

windowrule = center on, match:title ^(Keybindings)$

# ── Idle Inhibit ──
windowrule = idle_inhibit fullscreen, match:fullscreen true

# ── Float Popups & Dialogs ──
windowrule = float on, match:title ^(Authentication Required)$
windowrule = center on, match:title ^(Authentication Required)$

windowrule = float on, match:class ([Zz]oom|onedriver|onedriver-launcher)$
windowrule = float on, match:class (org.gnome.Calculator) match:title (Calculator)
windowrule = float on, match:class ^([Qq]alculate-gtk)$

windowrule = float on, match:title ^(Add Folder to Workspace)$
windowrule = size 70% 60%, match:title ^(Add Folder to Workspace)$
windowrule = center on, match:title ^(Add Folder to Workspace)$

windowrule = float on, match:title ^(Save As)$
windowrule = size 70% 60%, match:title ^(Save As)$
windowrule = center on, match:title ^(Save As)$

windowrule = float on, match:initial_title (Open Files)
windowrule = size 70% 60%, match:initial_title (Open Files)

windowrule = float on, match:title ^(SDDM Background)$
windowrule = center on, match:title ^(SDDM Background)$
windowrule = size 16% 12%, match:title ^(SDDM Background)$

# ── Misc Opacity ──
windowrule = tag -default-opacity, match:class ^(gedit|org.gnome.TextEditor|mousepad)$
windowrule = opacity 0.8 0.7, match:class ^(gedit|org.gnome.TextEditor|mousepad)$
windowrule = tag -default-opacity, match:class ^(deluge)$
windowrule = opacity 0.9 0.8, match:class ^(deluge)$
windowrule = tag -default-opacity, match:class ^(im.riot.Riot)$
windowrule = opacity 0.9 0.8, match:class ^(im.riot.Riot)$
windowrule = tag -default-opacity, match:class ^(seahorse)$
windowrule = opacity 0.9 0.8, match:class ^(seahorse)$
windowrule = tag -default-opacity, match:tag email*
windowrule = tag -default-opacity, match:tag screenshare*

# ── Default Opacity (applied LAST to any window not opted-out) ──
windowrule = opacity 0.97 0.9, match:tag default-opacity

# ── Layer Rules ──
layerrule = blur on, match:namespace rofi
layerrule = ignore_alpha 0, match:namespace rofi
layerrule = blur on, match:namespace notifications
layerrule = ignore_alpha 0, match:namespace notifications
